<!--This is a test page for the JS functions. Type the function call in the textbox.-->

<!DOCTYPE html>
<html>
	<head>
		<title> JS Functions Test Page </title>
		<script src="jquery-2.1.1.min.js" type="text/javascript"></script>
		<script src="functions.js" type="text/javascript"></script>
		
		<script type="text/javascript">
			function executeCall() {
				code = document.getElementById("funcCall");
				//alert(code.innerHTML);
				scr = document.createElement("script");
				scr.innerHTML =  code.innerHTML;
				scr.id = 'exe'
				document.body.appendChild(scr);
				document.getElementById('but').onclick = stopCall;
				document.getElementById('but').innerHTML = "stop";
			}
			
			function stopCall(){
				alert("stopping code");
				for (var i = 1; i < 99999; i++)
        				window.clearInterval(i);
        				
				scr = document.getElementById('exe');
				scr.parentNode.removeChild(scr);
				document.getElementById('but').onclick = executeCall;
				document.getElementById('but').innerHTML = "start";
			}
		</script>
		
	</head>
	
	<body>
	<h3> Write code in the text area, and see it execute </h3>
		<div style="border:solid" style="width:50px">Enter the function</div> <br><textarea id="funcCall" rows="10" cols="50" style="resize:none;border:solid"/>
alert("executing code");
zygote.gpio.config('USR1', 'OUTPUT');
states = ['HIGH', 'LOW'];
counter = 0;
			
function blink(){
	zygote.gpio.write('USR1', states[counter%2]);
	counter++;
	setTimeout(blink, 1000);
}

blink();
		</textarea>
		<button id='but' onclick="executeCall();">GO</button>
		<br>
	</body>
</html>
